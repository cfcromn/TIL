# IP (Internet Protocol)

IP 주소는 IP가 수신처를 판단하기 위해 사용되는 컴퓨터의 주소이다.

IP 주소 되지 않게 ICANN이라는 기관에서 세계의 IP 주소를 관리한다.

# IP 주소의 구성

IP 주소 = 네트워크 ID + 호스트 ID (32bit)

네트워크 부: 네트워크 식별 라우터가 라우팅할 때 사용 IP 주소 할당 기관에서 할당

호스트 부: 호스트 식별 네트워크 관리자가 할당

IPv4 (32비트)

- 총 32비트, 보통 10진수 4개로 표현한다 (ex:192.168.1.1)
- 각 필드는 8비트(=1바이트) → 그래서 0~255까지의 범위를 가진다

IPv6 (128비트)

- 총 128비트, 16비트씩 8개, 16진수 표현된다.(ex2001:0db8:85a3::8a2e:0370:7334)
- 주소 공간이 엄청 넓다. (거의 무한대 수준)
- 중복 가능성이 거의 0이라 IoT기기 등에서도 많이 사용됨

기존 인프라가 대부분 IPv4 기반이라 아직은 IPv4가 많이 쓰인다.

공인 IPv4 주소가 부족하지만 NAT 기술로 버티고 있다.

| 항목 | IPv4 | IPv6 |
| --- | --- | --- |
| 주소 길이 | 32비트 | 128비트 |
| 주소 개수 | 약 43억 개 | 사실상 무한 |
| 도입 시기 | 1981 | 1998 |
| 현재 사용률 | 아직 다수 | 점차 증가 중 |
| 주소 고갈 | 이미 고갈됨 | 여유 넘침 |

## IP 주소의 규칙

### 1. Network 주소와 Host 주소

IP 주소는 Network 주소와 Host 주소로 이루어져 있다.

Network 주소는 그 IP 주소가 속한  Network를 나타내며, Host는 그 Network 속에서 Host를 구별하는 번호이다. Network 주소가 다르면 다른 IP이므로 외부 Network와 통신할 수 있는 장비가 없다면 통신 되지 않는다.

**IP 주소 Class**

IP 주소 체계에는 Classful Addressing(클래스 기반 주소 체계)라는 규칙이 있었는데, 여기서는 **IP 주소의 앞부분은 네트워크를 식별**하고, **뒷부분은 호스트를 식별**하는 기준을 클래스(Class)로 정했다.

- **Class A**: 네트워크 부분이 앞 8비트, 나머지 24비트는 호스트
- **Class B**: 네트워크 부분이 앞 16비트, 나머지 16비트는 호스트
- **Class C**: 네트워크 부분이 앞 24비트, 나머지 8비트는 호스트
    
    Class D는 멀티캐스트, E는 실험용으로 예약되었다.
    

### 2. Subnet Mask

Class를 모르거나 잊어버렸을 때 Network 주소를 알 수 없을 것이다.

그래서 필요한 정보가 Subnet Mask이다.

A Class : 8bit 까지 = 11111111.00000000.00000000.00000000 = 255.0.0.0 = /8

B Class : 16bit 까지 = 11111111.11111111.00000000.00000000 = 255.255.0.0 = /16

C Class : 24bit 까지 = 11111111.11111111.11111111.00000000 = 255.255.255.0 = /24

따라서 아이피의 첫 3자리를 보는 것 보다 Subnet Mask를 본다면 확실하게 Network 주소를 알 수 있다.

### 3. Broadcast 주소

Broadcast 주소는 네트워크 주소 + 나머지 bit를 모두 1로 처리한 주소로 나타낸다

예) 10.20.30.40 이라는 주소가 있다면 네트워크 주소는 10.0.0.0이기에 나머지 주소를 1로 처리한다면 10.255.255.255가 된다. 이때 10.255.255.255가 바로 Broadcast 주소이다.

Broadcast 주소는 네트워크 전체를 호출하는 주소로 예약되어 있기 때문에 Network 주소처럼 그 어떤 사용자도 이 주소를 가질 수 없다.